import React from 'react';
import PropTypes from 'prop-types';
import { FormattedMessage } from 'react-intl';
import { Icon } from 'antd';
import { map, isEmpty } from 'lodash';
import ObjectFilterCard from './ObjectFilterCard';
import RightSidebarLoading from '../../../app/Sidebar/RightSidebarLoading';
import './ObjectFilterBlock.less';

const MOCK_DATA = [
  {
    _id: '5cf7cb159619f621832150a4',
    map: null,
    count: 20,
    is_posting_open: true,
    is_extending_open: true,
    weight: 165342065016.0333,
    parent: '',
    children: [],
    author_permlink: 'palnet',
    author: 'zxc43',
    creator: 'monterey',
    app: 'waiviodev/1.0.0',
    community: '',
    default_name: 'palnet',
    object_type: 'hashtag',
    fields: [
      {
        weight: 1,
        locale: 'en-US',
        _id: '5cf7cb179619f6218321643e',
        creator: 'monterey',
        author: 'xcv47',
        permlink: 'monterey-zysa9kih6pj',
        name: 'name',
        body: 'palnet',
        active_votes: [],
      },
      {
        weight: 11166412.875,
        locale: 'en-US',
        _id: '5d112f389efdcb0eb91665ea',
        creator: 'diningguide',
        author: 'et42k',
        permlink: 'diningguide-s4cf5spwx',
        name: 'avatar',
        body:
          'https://waivio.nyc3.digitaloceanspaces.com/1562259520_1cebf49f-168a-48e5-8628-8181d0876747',
        active_votes: [
          {
            _id: '5d112f42f14bef110d26a7a7',
            voter: 'diningguide',
            weight: 1,
          },
          {
            _id: '5d113245f14bef110d4ee077',
            voter: 'vancouverdining',
            weight: 11166410.875,
          },
          {
            _id: '5d1513b38a4a4304281b7378',
            voter: 'mack-bot',
            weight: -1,
          },
          {
            _id: '5d19c0f965c7ea7f26b1b6a1',
            voter: 'spaminator',
            weight: -1,
          },
        ],
      },
      {
        weight: 34023.68035714286,
        locale: 'en-US',
        _id: '5d5faa14983fac0fe564b9ff',
        creator: 'asd09',
        author: 'vmn31',
        permlink: 'asd09-c5c5ztc7ons',
        name: 'newsFilter',
        body: '{"allowList":[],"ignoreList":["adfly"]}',
        active_votes: [
          {
            _id: '5d64e714c67d4e6d5b66f503',
            voter: 'asd09',
            weight: 34023.68035714286,
          },
          {
            _id: '5d712dda6a206b32c47391b4',
            voter: 'jucci',
            weight: -1,
          },
        ],
      },
    ],
    createdAt: '2019-06-05T14:00:53.486Z',
    updatedAt: '2019-11-13T06:40:27.491Z',
    __v: 0,
    count_posts: 427793,
    latest_posts: [
      '5dcba53632adac0f039ed008',
      '5dcb971c32adac0f039ebaa8',
      '5dcba4f132adac0f039ecf77',
      '5dcba31232adac0f039ecd76',
      '5dcba29d32adac0f039ecd45',
      '5dcba45732adac0f039ecef1',
      '5dcba31232adac0f039ecd76',
      '5dcba41d32adac0f039eceb3',
      '5dcba3d432adac0f039ece89',
      '5dcba3b932adac0f039ece71',
      '5dca87f332adac0f039cefc2',
      '5dcb9f9c32adac0f039ec40d',
      '5dcba38832adac0f039ecdff',
      '5dcba37a32adac0f039ecdf3',
      '5dcba30232adac0f039ecd6a',
      '5dcba34632adac0f039ecd98',
      '5dcba31232adac0f039ecd76',
      '5dcba22532adac0f039eccba',
      '5dcba29d32adac0f039ecd45',
      '5dcba28b32adac0f039ecd3f',
      '5dca87f332adac0f039cefc2',
      '5dcba22532adac0f039eccba',
      '5dcb9acc32adac0f039ebfab',
      '5dcba20332adac0f039ecc6f',
      '5dcba1fc32adac0f039ecc68',
      '5dcba1f632adac0f039ecc61',
      '5dcba1da32adac0f039ecc40',
      '5dcba1d932adac0f039ecc15',
      '5dcba1ce32adac0f039ecc0f',
      '5dcba1c732adac0f039ecc09',
    ],
    newsFilter: {
      allowList: [],
      ignoreList: ['adfly'],
    },
    last_posts_count: 2829,
    last_posts_counts_by_hours: [
      85,
      68,
      99,
      90,
      98,
      106,
      100,
      111,
      139,
      117,
      113,
      129,
      99,
      142,
      213,
      163,
      123,
      93,
      109,
      104,
      92,
      125,
      121,
      126,
    ],
    user_weight: 102735.45807142857,
  },
  {
    _id: '5caf424c6fb6c810cde66d6b',
    is_posting_open: true,
    is_extending_open: true,
    count: 12,
    weight: 73725200127.50089,
    children: [],
    author_permlink: 'life',
    author: 'suy38',
    creator: 'wiv01',
    app: 'waiviodev/1.0.0',
    community: '',
    default_name: 'life',
    object_type: 'hashtag',
    fields: [
      {
        weight: 1,
        locale: 'en-US',
        _id: '5caf424e6fb6c810cde66d6d',
        creator: 'wiv01',
        author: 'x45ki',
        permlink: 'wiv01-iil1j1owkde',
        name: 'name',
        body: 'life',
        active_votes: [],
      },
      {
        weight: 131.20000000000002,
        locale: 'en-US',
        _id: '5cb182f7f03c2c421e8a9afa',
        creator: 'shoppingguide',
        author: 'x6oc5',
        permlink: 'shoppingguide-crdmwrhk36w',
        name: 'avatar',
        body:
          'https://waivio.nyc3.digitaloceanspaces.com/1562259401_7f020480-6ab7-44dc-8538-f62d118df51d',
        active_votes: [
          {
            _id: '5cb182fbf03c2c421e8a9b80',
            voter: 'shoppingguide',
            weight: 129.20000000000002,
          },
          {
            _id: '5cb424f7f03c2c421ea18890',
            voter: 'jucci',
            weight: 1,
          },
        ],
      },
      {
        weight: 422.70833333333337,
        locale: 'en-US',
        _id: '5cd12114d0555b20e15669a3',
        creator: 'monterey',
        author: 'fgh87',
        permlink: 'monterey-gei9fmdh9w9',
        name: 'tag',
        body: 'someTag',
        active_votes: [
          {
            _id: '5cd12118d0555b20e1567647',
            voter: 'monterey',
            weight: 421.70833333333337,
          },
          {
            _id: '5cd1211cd0555b20e1567c1f',
            voter: 'mack-bot',
            weight: -1,
          },
        ],
      },
      {
        weight: 23699.052083333332,
        locale: 'en-US',
        _id: '5daeafdc759fce5eb34af94d',
        creator: 'wiv01',
        author: 'jkl65',
        permlink: 'wiv01-ees6napeyfo',
        name: 'price',
        body: 'fc',
        active_votes: [
          {
            _id: '5daeafe2a89fce5e52bda49e',
            voter: 'wiv01',
            percent: 50,
            rshares_weight: 21474,
            weight: 23698.052083333332,
          },
        ],
      },
    ],
    createdAt: '2019-04-11T13:34:04.222Z',
    updatedAt: '2019-11-13T06:40:05.893Z',
    __v: 0,
    parent: '',
    count_posts: 192798,
    latest_posts: [
      '5dcba4e432adac0f039ecf6e',
      '5dcba44a32adac0f039eceea',
      '5dcba34832adac0f039ecdab',
      '5dcba1ac32adac0f039ecbec',
      '5dcba1d932adac0f039ecc15',
      '5dcba1ac32adac0f039ecbec',
      '5dcb8fa732adac0f039eb4d0',
      '5dca8d6232adac0f039d09c8',
      '5dcb8fa732adac0f039eb4d0',
      '5dcb8d3b32adac0f039eb178',
      '5dcb8d3b32adac0f039eb178',
      '5dcb8d3b32adac0f039eb178',
      '5dcb9f9232adac0f039ec401',
      '5dcb8d3b32adac0f039eb178',
      '5dcb9ea232adac0f039ec334',
      '5dcb58b132adac0f039e77fd',
      '5dcb9dfe32adac0f039ec219',
      '5dcb9bec32adac0f039ec061',
      '5dcb9ba432adac0f039ec001',
      '5dcb680732adac0f039e87f7',
      '5dcb9a1532adac0f039ebf0b',
      '5dcb99a832adac0f039ebdd8',
      '5dcb994c32adac0f039ebd27',
      '5dc573f7c7aab336ea55eea5',
      '5dcb972732adac0f039ebab5',
      '5dcb958a32adac0f039eba1a',
      '5dcb952a32adac0f039eb9b8',
      '5dcb947532adac0f039eb86d',
      '5dcb91fd32adac0f039eb6ad',
      '5dcb925a32adac0f039eb729',
    ],
    last_posts_count: 706,
    last_posts_counts_by_hours: [
      28,
      30,
      24,
      20,
      15,
      27,
      28,
      22,
      29,
      29,
      27,
      34,
      46,
      20,
      26,
      31,
      44,
      34,
      43,
      33,
      23,
      24,
      16,
      36,
    ],
    user_weight: 89728.00555555557,
  },
  {
    _id: '5caf43366fb6c810cde69870',
    is_posting_open: true,
    is_extending_open: true,
    count: 10,
    weight: 57250747614.53541,
    children: [],
    author_permlink: 'photography',
    author: 'mhg41',
    creator: 'wiv01',
    app: 'waiviodev/1.0.0',
    community: '',
    default_name: 'photography',
    object_type: 'hashtag',
    fields: [
      {
        weight: 1,
        locale: 'en-US',
        _id: '5caf43396fb6c810cde69872',
        creator: 'wiv01',
        author: 'b23df',
        permlink: 'wiv01-tvcgh2hamzb',
        name: 'name',
        body: 'photography',
        active_votes: [],
      },
      {
        weight: 2,
        locale: 'en-US',
        _id: '5cb03e1b231b962d8120f488',
        creator: 'stanislavh',
        author: 'wiv01',
        permlink: 'stanislavh-1wabb33ivt3',
        name: 'avatar',
        body:
          'https://waivio.nyc3.digitaloceanspaces.com/1562259405_75502232-263a-4ee2-83cd-5d9959e46a98',
        active_votes: [
          {
            _id: '5cb03e1f231b962d8120f60a',
            voter: 'stanislavh',
            weight: 1,
          },
        ],
      },
    ],
    createdAt: '2019-04-11T13:37:58.994Z',
    updatedAt: '2019-11-13T06:40:27.377Z',
    __v: 0,
    parent: '',
    count_posts: 192879,
    latest_posts: [
      '5dcba4e432adac0f039ecf6e',
      '5dcba4ae32adac0f039ecf58',
      '5dcba31232adac0f039ecd76',
      '5dcba3f632adac0f039ecea0',
      '5dcba3d432adac0f039ece89',
      '5dcba30232adac0f039ecd6a',
      '5dcba34732adac0f039ecd9e',
      '5dcba30232adac0f039ecd6a',
      '5dcba19732adac0f039ecbba',
      '5dcba13b32adac0f039ecb94',
      '5dcb8d3b32adac0f039eb178',
      '5dcb8d3b32adac0f039eb178',
      '5dcb8d3b32adac0f039eb178',
      '5dcb9f9732adac0f039ec407',
      '5dcb8d3b32adac0f039eb178',
      '5dcb9f9732adac0f039ec407',
      '5dcb9fa432adac0f039ec416',
      '5dcb9f9732adac0f039ec407',
      '5dcb8b4b32adac0f039eb04d',
      '5dcb9eeb32adac0f039ec353',
      '5dcb58b132adac0f039e77fd',
      '5dcb9dfe32adac0f039ec219',
      '5dcb9c2732adac0f039ec0d2',
      '5dcb9a3c32adac0f039ebf63',
      '5dcb99e832adac0f039ebe9c',
      '5dcb99cc32adac0f039ebe8f',
      '5dcb99bc32adac0f039ebe69',
      '5dbe5fb1aaab5440b8b3bcef',
      '5dcb96bd32adac0f039eba89',
      '5dcb98b632adac0f039ebc68',
    ],
    last_posts_count: 1151,
    last_posts_counts_by_hours: [
      38,
      24,
      38,
      35,
      24,
      34,
      26,
      39,
      57,
      49,
      53,
      47,
      47,
      62,
      77,
      50,
      52,
      44,
      64,
      39,
      49,
      55,
      53,
      72,
    ],
    user_weight: 74398.63571428573,
  },
  {
    _id: '5caf43316fb6c810cde69865',
    is_posting_open: true,
    is_extending_open: true,
    count: 7,
    weight: 43979710563.87419,
    children: [],
    author_permlink: 'blog',
    author: 'q1w2c',
    creator: 'wiv01',
    app: 'waiviodev/1.0.0',
    community: '',
    default_name: 'blog',
    object_type: 'hashtag',
    fields: [
      {
        weight: 1,
        locale: 'en-US',
        _id: '5caf43336fb6c810cde69867',
        creator: 'wiv01',
        author: 'no58s',
        permlink: 'wiv01-dpvh0enmc3',
        name: 'name',
        body: 'blog',
        active_votes: [],
      },
      {
        weight: 3,
        locale: 'en-US',
        _id: '5cb1859ef03c2c421e902703',
        creator: 'shoppingguide',
        author: 'vmn31',
        permlink: 'shoppingguide-3nfyzld19kt',
        name: 'avatar',
        body:
          'https://waivio.nyc3.digitaloceanspaces.com/1562259404_d6854fe1-6eaf-4327-a103-c36b56b74194',
        active_votes: [
          {
            _id: '5cb185a0f03c2c421e9030d6',
            voter: 'shoppingguide',
            weight: 1,
          },
          {
            _id: '5cc18264d0555b20e158ed5c',
            voter: 'jucci',
            weight: 1,
          },
        ],
      },
    ],
    createdAt: '2019-04-11T13:37:53.251Z',
    updatedAt: '2019-11-13T06:39:59.842Z',
    __v: 0,
    parent: '',
    count_posts: 99901,
    latest_posts: [
      '5dcba4f732adac0f039ecf82',
      '5dcba4ae32adac0f039ecf58',
      '5d9c168613d2d136e6bf3e19',
      '5dcba35532adac0f039ecdb8',
      '5dcba26732adac0f039ecd0d',
      '5dcb8fa732adac0f039eb4d0',
      '5dcb8fa732adac0f039eb4d0',
      '5dcb9dbd32adac0f039ec1eb',
      '5dcb9a1532adac0f039ebf0b',
      '5dcb99cc32adac0f039ebe8f',
      '5dbe5fb1aaab5440b8b3bcef',
      '5dcb97f832adac0f039ebbb2',
      '5dcb958a32adac0f039eba1a',
      '5dcb93a032adac0f039eb7e4',
      '5dcb937f32adac0f039eb7d0',
      '5dcb918d32adac0f039eb659',
      '5dcb90c332adac0f039eb5c6',
      '5dcb903932adac0f039eb536',
      '5dcb901f32adac0f039eb518',
      '5dcb8fa732adac0f039eb4d0',
      '5dcb8fa732adac0f039eb4d0',
      '5dcb8f7932adac0f039eb4b1',
      '5dcb89fb32adac0f039eaf7e',
      '5dcb8cde32adac0f039eb117',
      '5dcb8bf532adac0f039eb084',
      '5dcb8b7432adac0f039eb061',
      '5dcb89fb32adac0f039eaf7e',
      '5dcaaa5b32adac0f039d545f',
      '5dcaaa5b32adac0f039d545f',
      '5dcb87e832adac0f039eadb1',
    ],
    last_posts_count: 405,
    last_posts_counts_by_hours: [
      14,
      12,
      17,
      8,
      21,
      10,
      14,
      15,
      18,
      18,
      20,
      20,
      14,
      11,
      24,
      24,
      15,
      31,
      18,
      15,
      9,
      16,
      15,
      18,
    ],
    user_weight: 72506.00138888888,
  },
  {
    _id: '5cb03b2e231b962d81198310',
    is_posting_open: true,
    is_extending_open: true,
    count: 5,
    weight: 356554534.6020006,
    children: [],
    author_permlink: 'brexit',
    author: 'w7ngc',
    creator: 'wiv01',
    app: 'waiviodev/1.0.0',
    community: '',
    default_name: 'brexit',
    object_type: 'hashtag',
    fields: [
      {
        weight: 1,
        locale: 'en-US',
        _id: '5cb03b30231b962d811988a9',
        creator: 'wiv01',
        author: 'x6oc5',
        permlink: 'wiv01-wadjbtxn2m',
        name: 'name',
        body: 'brexit',
        active_votes: [],
      },
      {
        weight: 7585.525,
        locale: 'en-US',
        _id: '5db19290759fce5eb34f6855',
        creator: 'rutrader',
        author: 'sor31',
        permlink: 'rutrader-wabduhjy5n',
        name: 'avatar',
        body:
          'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQI3ztky6oI1OYqYqyzv6F5JOsr6vqyLvn5eBtEGCB7tgBWw0Bj&s',
        active_votes: [
          {
            _id: '5db19296a89fce5e52d411e3',
            voter: 'rutrader',
            percent: 50,
            rshares_weight: 846,
            weight: 7584.525,
          },
        ],
      },
    ],
    createdAt: '2019-04-12T07:15:58.912Z',
    updatedAt: '2019-11-13T06:00:15.868Z',
    __v: 0,
    parent: '',
    count_posts: 638,
    latest_posts: [
      '5dc9ef9a32adac0f039bab5f',
      '5dc92a2c32adac0f039a5a23',
      '5dc92a2b32adac0f039a5a1b',
      '5dc64ee68e13551dd0b0c1a1',
      '5dc5c1478e13551dd0b00746',
      '5dc5c1478e13551dd0b00746',
      '5dc5c1478e13551dd0b00746',
      '5dc58a84c7aab336ea56362b',
      '5dc58361c7aab336ea561009',
      '5dc568b8c7aab336ea55d728',
      '5dc56716c7aab336ea55d557',
      '5dc551e2c7aab336ea55bb39',
      '5dc53ce7c7aab336ea55a06a',
      '5dc3e457c7aab336ea5393dc',
      '5dc3e44fc7aab336ea5393cb',
      '5dc30a2cc7aab336ea523581',
      '5dc2a7bfc7aab336ea516e40',
      '5dbaea41aaab5440b8ae982a',
      '5dc2535ec7aab336ea50db78',
      '5dc15966aaab5440b8b8558f',
      '5dc14837aaab5440b8b83861',
      '5dc0cb94aaab5440b8b78077',
      '5dc03d05aaab5440b8b6930c',
      '5dc03272aaab5440b8b680b7',
      '5dc012d6aaab5440b8b64158',
      '5dbffdbaaaab5440b8b621dd',
      '5dbfefabaaab5440b8b60c4c',
      '5dbeb4c3aaab5440b8b42ea8',
      '5dbeb4c3aaab5440b8b42ea8',
      '5dbeb4c3aaab5440b8b42ea8',
    ],
    last_posts_count: 0,
    last_posts_counts_by_hours: [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
    ],
    user_weight: 70922.375,
  },
];

const ObjectFilterBlock = ({ username }) => {
  console.log('username', username);
  return !isEmpty(MOCK_DATA) ? (
    <div className="SidebarContentBlock">
      <div className="SidebarContentBlock__title">
        <div className="SidebarContentBlock__icon">
          <Icon type="filter" />
        </div>
        <FormattedMessage id="object_filter" defaultMessage="Object filter" />
      </div>
      <div className="SidebarContentBlock__content">
        {map(MOCK_DATA, wobject => (
          <ObjectFilterCard wobject={wobject} />
        ))}
      </div>
    </div>
  ) : (
    <RightSidebarLoading />
  );
};

ObjectFilterBlock.propTypes = {
  username: PropTypes.string.isRequired,
};

export default ObjectFilterBlock;
